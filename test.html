<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	<!--
	  Copyright (c) 2011 Lars Gersmann (lars.gersmann@gmail.com, http://orangevolt.blogspot.com)
	  Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
	  and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
	--> 
	<head>  
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=7,chrome=1; IE=9" />
		
		<script type="text/javascript" src="lib/jquery-1.5.js"></script>
		<script type="text/javascript" src="lib/jquery/plugins/jquery.defer.js"></script>
		<script type="text/javascript" src="src/jquery.ampere-defer.js"></script>
		
		<script type="text/javascript">
		var counter = 0;
		
		function calc() {
			this[ counter] = function() {};
			this.comma = counter++;
			/*
			state( function first() {
				
			});
			*/
		};
		
		$.ampere( 
			function() {
				$.ampere.log( 'apply ampere models');
				this.module(
					calc
					, {
						title    : 'Calculator',
						state    : 'main:',
						// history  : false, 
						resources : {
							styles  : [ 'calc.css'],
							scripts : [ ['calc.js', { bare : true}]]
						}
					}
				);
/*
				var ns = {};
				
				var st = 0;
				
				ns.Module = function() {
					debugger;
					this.modulefunc = function() { this.st = st++; };
				}
				
				ns.State = function() {}
				
				ns.Calc = function() {
					debugger;
					this.calcfunc = function() {};
				}
				ns.Calc.prototype = new ns.Module();
				
				var test = function() {
					debugger;
					this.testfunc = function() {};
				};
				test.prototype = new ns.Calc();
				
				var t = new test();
				
				console.dir( t);
				debugger;
				*/
			},
			{ 
				debug : true, 
				dtheme : 'js/jquery-plugins/ampere/themes/default/theme-defer.js',
				resources : {
					css : [ 'myapmere.css', 'sdfsd.css']
				}
			}
		);
		
		$(window).ready( function() {
			console.log( 'window ready');
			
			window.a = $('#app_container, #app_container2').module( 'calc', { foo : 'bar', resources : { scripts : [['calc_special.js', { bare : true}]], styles : 'calc_special.css'}});
			//window.b = $('#app_container2').module( 'calc');
		});
		</script>
    </head>
    <body>
    	<div id="app_container" style="width:400px;height:250px">
    	</div>
    	
    	<div id="app_container2" style="width:400px;height:250px">
    	</div>
    </body>
</html>
