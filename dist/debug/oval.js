/*!
 * jQuery Orangevolt Ampere
 *
 * version : 0.1.0
 * created : 2012-10-10
 * source  : https://github.com/lgersman/jquery.orangevolt-ampere
 *
 * author  : Lars Gersmann (lars.gersmann@gmail.com)
 * homepage: http://www.orangevolt.com
 *
 * Copyright (c) 2012 Lars Gersmann; Licensed MIT, GPL
 */
/**
 * Oval is the OrangeVolt Ampere Loader
 * 
 * embed this script in the head of your html page
 * to load all Orangevolt Ampere dependencies automatically 
 */

(function() {
	var scripts = document.getElementsByTagName( 'script');
	for( var i=0; i<scripts.length; i++) {
		var url = scripts[i].src;
		if( scripts[i].type=="text/javascript" && /oval.js/.test( url)) {
			var matches = url.match( /(.+)oval\.js(\?(.+))?/);
			if( !matches) {
				throw new Error( "failed to eval ampere base url");
			}
			var baseUrl = matches[ 1];
			
			var CSS = ["libs/bootstrap-2.1.1/css/bootstrap.min.css","libs/bootstrap-2.1.1/css/bootstrap-responsive.min.css","libs/Font-Awesome/css/font-awesome.css","libs/colorpicker/css/colorpicker.css","libs/datepicker/css/datepicker.css","ampere-ui-twitterbootstrap.css","ampere-ui-twitterbootstrap.less.css"];
			for( var i in CSS) {
				document.writeln( '<link rel="stylesheet" type="text/css" href="' + baseUrl + CSS[i] + '">');
			}
			
			var LESS = [];
			for( var i in LESS) {
				document.writeln( '<link rel="stylesheet/less" href="' + baseUrl + LESS[i] + '">');
			}
			
			var JS = ["libs/coffeescript-1.3.3.js","libs/lesscss-1.3.0.js","libs/jquery-1.8.2.js","libs/bootstrap-2.1.1/js/bootstrap.min.js","libs/jquery.sortable.js","libs/datepicker/js/bootstrap-datepicker.js","libs/colorpicker/js/bootstrap-colorpicker.js","libs/angular/angular-1.0.1.min.js","libs/angular/angular-cookies-1.0.1.min.js","libs/angular/angular-loader-1.0.1.min.js","libs/angular/angular-resource-1.0.1.min.js","compat.js","json.js","namespace.js","jquery.upload.js","ampere.js","ampere-util.js","ampere-ui-twitterbootstrap.js","ampere-ui-hotkey.js"];
			for( var i in JS) {
				var defer = (/coffeescript/.test( JS[i]) && 'defer') || '';
				document.writeln( '<script type="text/javascript" ' + defer + ' src="' + baseUrl + JS[i] + '"></script>');
			}
			
			break;
		}
	}
	
	
	document.writeln( 
		'<script type="text/template" id="ampere-ui-twitterbootstrap.layout.nolayout.tmpl"><![CDATA[\n' + 
		"<div class=\"ng-cloak ampere-module\" nng-app=\"window.ov.ampere.ui.twitterbootstrap\" ng-controller=\"amperetwitterbootstrap\">\n\t<div class=\"container\">\n\t\t<div class=\"ampere-state name-{{$ampere.view.state().name()}}\">\n\t\t  \t<div ng-ampere-state=\"\" class=\"ampere-view name-{{$ampere.view.name()}}\"></div>\n\t\t</div>\n\t</div>\n\t<div class=\"overlay\"></div>\n\t<div class=\"container flash\">\n\t\t<div class=\"alert alert-info alert-block fade in\">\n\t\t\t<button type=\"button\" class=\"close\">×</button>\n\t\t\t<div class=\"message\"></div>\n\t\t\t<div class=\"progress progress-striped active\">\n\t\t\t\t<div class=\"bar\" style=\"width: 100%;\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>" + 
		'\n]]></script>'
	);
	
	document.writeln( 
		'<script type="text/template" id="ampere-ui-twitterbootstrap.layout.default.tmpl"><![CDATA[\n' + 
		"<div class=\"ng-cloak ampere-module\" nng-app=\"window.ov.ampere.ui.twitterbootstrap\" ng-controller=\"amperetwitterbootstrap\">\n\t<div \n\t\tclass=\"navbar navbar-inverse navbar-fixed-top\" \n\t\tng-show=\"$ampere.ui.getCaption( $ampere.module) || $ampere.module.options( 'ampere.ui.about.caption') || $ampere.ui.getTransitions({ 'ampere.ui.type':'global'}).length\"\n\t>\n\t\t\n    \t<div class=\"navbar-inner\">\n       \t\t<div class=\"container\">\n         \t\t<a \n         \t\t\tclass=\"btn btn-navbar\" \n         \t\t\tdata-toggle=\"collapse\" \n         \t\t\tdata-target=\".nav-collapse\"\n         \t\t\tng-show=\"$ampere.ui.getTransitions({ 'ampere.ui.type':'global'}).length\"\n         \t\t>\n           \t\t\t<span class=\"icon-bar\"></span>\n           \t\t\t<span class=\"icon-bar\"></span>\n           \t\t\t<span class=\"icon-bar\"></span>\n         \t\t</a>\n         \t\t\n         \t\t<span ng-switch on=\"$ampere.module.options( 'ampere.ui.about.url') | type\">\n         \t\t\t<a ng-switch-when=\"transition\" class=\"brand\" ng-ampere-transition=\"$ampere.module.options( 'ampere.ui.about.url')\"></a>\n         \t\t\t\n\t\t\t        <a ng-switch-default class=\"brand\" href=\"{{$ampere.module.options( 'ampere.ui.about.url')}}\" target=\"_blank\">\n\t\t\t        \t{{$ampere.ui.getCaption( $ampere.module) || $window.ov.ampere.util.ucwords( $ampere.module.options( 'ampere.ui.about.caption'))}}\n\t\t\t        </a>\t\t\t        \n\t\t\t\t</span>\n\t\t\t\t\n       \t\t \t<div class=\"nav-collapse\">\n\t           \t\t<ul class=\"nav\">\n\t           \t\t\t<li ng-class=\"{disabled : !transition.enabled(), active : transition.active()}\"\n\t           \t\t\t\tng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'global'})\">\n\t           \t\t\t\t<a ng-ampere-transition=\"transition\"></a>\n\t           \t\t\t</li>\n\t           \t\t</ul>\n\t         \t</div>\n    \t   </div>\n\t\t</div>\n\t</div>\n\t<div class=\"container\">\n\t\t<header ng-show=\"$ampere.ui.getDescription( $ampere.module) || $ampere.ui.getCaption( $ampere.module) || $ampere.ui.getTransitions({ 'ampere.ui.type':'primary'}).length || $ampere.ui.getTransitions({ 'ampere.ui.type':'secondary'}).length\">\n\t\t\t<h1>{{$ampere.ui.getCaption( $ampere.module)}}</h1>\n\t\t\t<div class=\"lead\" ng-bind-html-unsafe=\"$ampere.ui.getDescription( $ampere.module)\"></div>\n\n\t\t\t<ul class=\"breadcrumb\" ng-show=\"$ampere.ui.getTransitions({ 'ampere.ui.type':'breadcrumb'}).length\">\n\t\t\t\t<li ng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'breadcrumb'})\" ng-class=\"{disabled : !transition.enabled(), active : transition.active()}\">\n\t\t          \t<a ng-ampere-transition=\"transition\"></a>\n\t\t          \t<span ng-show=\"!$last\" class=\"divider\">/</span> \n\t\t        </li>\n\t\t\t</ul>\n\t\t\t\n\t\t\t<div class=\"navbar subnav\" ddata-top=\"40\" ng-show=\"$ampere.ui.getTransitions({ 'ampere.ui.type':'primary'}).length || $ampere.ui.getTransitions({ 'ampere.ui.type':'secondary'}).length\">\n\t\t\t\t<div class=\"navbar-inner\">\n\t\t\t          <ul class=\"nav\">\n\t\t\t          \t<li ng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'primary'})\" ng-class=\"{disabled : !transition.enabled(), active : transition.active()}\">\n\t\t\t          \t\t<a ng-ampere-transition=\"transition\"></a> \n\t\t\t          \t</li>\n\t\t\t          \t<li class=\"dropdown\" ng-show=\"$ampere.ui.getTransitions({ 'ampere.ui.type':'secondary'}).length\">\n\t\t\t\t\t\t    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\n\t\t\t\t\t\t      {{$ampere.ui.getCaption( $ampere.view.state())}}\n\t\t\t\t\t\t      <b class=\"caret\"></b>\n\t\t\t\t\t\t    </a>\n\t\t\t\t\t\t    <ul class=\"dropdown-menu\">\n\t\t\t\t\t\t    \t<li ng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'secondary'})\" ng-class=\"{disabled : !transition.enabled(), active : transition.active()}\">\n\t\t\t\t\t          \t\t<a ng-ampere-transition=\"transition\"></a> \n\t\t\t\t\t          \t</li> \n\t\t\t\t\t\t    </ul>\n\t\t\t\t\t\t  </li>\n\t\t\t          </ul>\n\t\t\t    </div>\n\t        </div>\n\t\t</header>\n\t\t<section class=\"ampere-state name-{{$ampere.view.state().name()}}\">\n\t\t\t<div ng-class=\"{ 'view-empty' : $ampere.template==''}\" class=\"page-header\" ng-show=\"$ampere.ui.getDescription( $ampere.view) || $ampere.ui.getCaption( ($ampere.view.name()!='main' && $ampere.view) || $ampere.view.state())\">\n\t\t    \t<h2 ng-show=\"$ampere.ui.getCaption( ($ampere.view.name()!='main' && $ampere.view) || $ampere.view.state()) || $ampere.ui.getIcon( $ampere.view)\">\n\t\t    \t\t<i ng-show=\"$ampere.ui.getIcon( $ampere.view)\" ng-class=\"$ampere.ui.getIcon( $ampere.view)\"></i>\n\t\t    \t\t{{$ampere.ui.getCaption( ($ampere.view.name()!='main' && $ampere.view) || $ampere.view.state())}}\n\t\t    \t\t<a ng-show=\"$ampere.ui.getTransitions( {'ampere.ui.hotkey' : $ampere.ui.regexp( '.+')}).length\" ng-click=\"$ampere.ui.toggleHelp()\" title=\"Help\" class=\"icon-question-sign\"></a>\n\t\t    \t</h2>\n\t\t    \t<div class=\"ampere-help\">\n\t\t    \t\t<div class=\"hotkeys\">\n\t\t\t\t\t\t<!--  <span>Available hotkeys:</span>  -->\n\t\t\t    \t\t<ul class=\"hotkeys\">\n\t\t\t    \t\t\t<li ng-class=\"{disabled : !transition.enabled()}\" ng-repeat=\"transition in $ampere.ui.getTransitions( {'ampere.ui.hotkey':$ampere.ui.regexp( '.+')})\">\n\t\t\t\t\t\t    \t<kbd>{{$ampere.ui.getHotkey( transition)}}</kbd>\n\t\t\t\t\t\t    \t<i class=\" icon-arrow-right\"></i>\n\t\t\t\t\t\t    \t<a ng-ampere-transition=\"transition\"></a>\n\t\t\t\t\t\t    \t<div class=\"description\">{{$ampere.ui.getDescription( transition)}}</div> \n\t\t\t\t\t\t    </li> \n\t\t\t    \t\t</ul>\n\t\t\t    \t</div>\n\t\t    \t</div>\n\t\t    \t<div ng-bind-html-unsafe=\"$ampere.ui.getDescription( $ampere.view)\"></div>\n\t\t  \t</div>\n\t\t  \t<div ng-ampere-state=\"\" class=\"ampere-view name-{{$ampere.view.name()}}\"></div>\n\t\t</section>\n\t\t<footer ng-show=\"$ampere.ui.getAbout( $ampere.module)\">\n\t\t\t<hr>\n\t\t\t<div ng-bind-html-unsafe=\"$ampere.ui.getAbout( $ampere.module)\"></div>\n\t\t</footer>\t\n\t</div>\n\t<div class=\"overlay\"></div>\n\t<div class=\"container flash\">\n\t\t<div class=\"alert alert-info alert-block fade in\">\n\t\t\t<button type=\"button\" class=\"close\">×</button>\n\t\t\t<div class=\"message\"></div>\n\t\t\t<div class=\"progress progress-striped active\">\n\t\t\t\t<div class=\"bar\" style=\"width: 100%;\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>" + 
		'\n]]></script>'
	);
	
	document.writeln( 
		'<script type="text/template" id="ampere-ui-twitterbootstrap.view.default.tmpl"><![CDATA[\n' + 
		"<section>\n\t<h3>View {{$ampere.ui.getCaption( $ampere.view)}}</h3>\n\t<em>(This view/template was generated automatically : state \"{{$ampere.view.state().fullName()}}\" has no view applied.)</em>\n</section>\n<section>\n\t<h4>Transitions</h4>\n\t<div class=\"btn-group\">\n\t\t<button type=\"button\" ng-ampere-transition=\"transition\" ng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':undefined})\"></button>\n\t</div>\n</section>\n<hr/>\n<section>\n\t<h4>Data</h4>\n\t<pre>{{$ampere.view.state() | json}}</pre>\n</section>\n\n" + 
		'\n]]></script>'
	);
	
	document.writeln( 
		'<script type="text/template" id="ampere-ui-twitterbootstrap.layout.wizard.tmpl"><![CDATA[\n' + 
		"<div class=\"ng-cloak ampere-module\" nng-app=\"window.ov.ampere.ui.twitterbootstrap\" ng-controller=\"amperetwitterbootstrap\">\n\t<div\n\t\tclass=\"navbar navbar-inverse navbar-fixed-top\" \n\t\tng-show=\"$ampere.ui.getCaption( $ampere.module) || $ampere.module.options( 'ampere.ui.about.caption') || $ampere.ui.getTransitions({ 'ampere.ui.type':'global'}).length\"\n\t>\n    \t<div class=\"navbar-inner\">\n       \t\t<div class=\"container\">\n         \t\t<a \n         \t\t\tclass=\"btn btn-navbar\" \n         \t\t\tdata-toggle=\"collapse\" \n         \t\t\tdata-target=\".nav-collapse\"\n         \t\t\tng-show=\"$ampere.ui.getTransitions({ 'ampere.ui.type':'global'}).length\"\n         \t\t>\n           \t\t\t<span class=\"icon-bar\"></span>\n           \t\t\t<span class=\"icon-bar\"></span>\n           \t\t\t<span class=\"icon-bar\"></span>\n         \t\t</a>\n\t\t        \n\t\t\t\t<span ng-switch on=\"$ampere.module.options( 'ampere.ui.about.url') | type\">\n         \t\t\t<a ng-switch-when=\"transition\" class=\"brand\" ng-ampere-transition=\"$ampere.module.options( 'ampere.ui.about.url')\"></a>\n         \t\t\t\n\t\t\t        <a ng-switch-default class=\"brand\" href=\"{{$ampere.module.options( 'ampere.ui.about.url')}}\" target=\"_blank\">\n\t\t\t        \t{{$ampere.ui.getCaption( $ampere.module) || $window.ov.ampere.util.ucwords( $ampere.module.options( 'ampere.ui.about.caption'))}}\n\t\t\t        </a>\t\t\t        \n\t\t\t\t</span>\n\n       \t\t \t<div class=\"nav-collapse\">\n\t           \t\t<ul class=\"nav\">\n\t           \t\t\t<li \n\t           \t\t\t\tng-class=\"{disabled : !transition.enabled(), active : transition.active()}\"\n\t           \t\t\t\tng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'global'})\">\n\t           \t\t\t\t<a ng-ampere-transition=\"transition\"></a>\n\t           \t\t\t</li>\n\t           \t\t</ul>\n\t         \t</div>\n    \t   </div>\n\t\t</div>\n\t</div>\n\t<div class=\"container\">\n\t\t<header ng-show=\"$ampere.ui.getDescription( $ampere.module) || $ampere.ui.getCaption( $ampere.module) || $ampere.ui.getTransitions({ 'ampere.ui.type':'primary'}).length || $ampere.ui.getTransitions({ 'ampere.ui.type':'secondary'}).length\">\n\t\t\t<h1>{{$ampere.ui.getCaption( $ampere.module)}}</h1>\n\t\t\t<div class=\"lead\" ng-bind-html-unsafe=\"$ampere.ui.getDescription( $ampere.module)\"></div>\n\n\t\t\t<ul class=\"breadcrumb\" ng-show=\"$ampere.ui.getTransitions({ 'ampere.ui.type':'breadcrumb'}).length\">\n\t\t\t\t<li ng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'breadcrumb'})\" ng-class=\"{disabled : !transition.enabled(), active : transition.active()}\">\n\t\t          \t<a ng-ampere-transition=\"transition\"></a>\n\t\t          \t<span ng-show=\"!$last\" class=\"divider\">/</span> \n\t\t        </li>\n\t\t\t</ul>\n\t\t\t\n\t\t\t<div class=\"navbar subnav\" ddata-top=\"80\" ng-show=\"$ampere.ui.getTransitions({ 'ampere.ui.type':'primary'}).length || $ampere.ui.getTransitions({ 'ampere.ui.type':'secondary'}).length\">\n\t\t\t\t<div class=\"navbar-inner\">\n\t\t\t          <ul class=\"nav nav-pills\">\n\t\t\t          \t<li ng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'primary'})\" ng-class=\"{disabled : !transition.enabled(), active : transition.active()}\">\n\t\t\t          \t\t<a ng-ampere-transition=\"transition\"></a> \n\t\t\t          \t</li>\n\t\t\t          \t<li class=\"dropdown\" ng-show=\"$ampere.ui.getTransitions({ 'ampere.ui.type':'secondary'}).length\">\n\t\t\t\t\t\t    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\n\t\t\t\t\t\t      {{$ampere.ui.getCaption( $ampere.view.state())}}\n\t\t\t\t\t\t      <b class=\"caret\"></b>\n\t\t\t\t\t\t    </a>\n\t\t\t\t\t\t    <ul class=\"dropdown-menu\">\n\t\t\t\t\t\t    \t<li ng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'secondary'})\" ng-class=\"{disabled : !transition.enabled(), active : transition.active()}\">\n\t\t\t\t\t          \t\t<a ng-ampere-transition=\"transition\"></a> \n\t\t\t\t\t          \t</li> \n\t\t\t\t\t\t    </ul>\n\t\t\t\t\t\t  </li>\n\t\t\t          </ul>\n\t\t\t    </div>\n\t        </div>\n\t\t</header>\n\t\t<section class=\"ampere-state name-{{$ampere.view.state().name()}}\">\n\t\t\t<div class=\"page-header\" ng-show=\"$ampere.ui.getDescription( $ampere.view) || $ampere.ui.getCaption( ($ampere.view.name()!='main' && $ampere.view) || $ampere.view.state())\">\n\t\t    \t<h2 ng-show=\"$ampere.ui.getCaption( ($ampere.view.name()!='main' && $ampere.view) || $ampere.view.state()) || $ampere.ui.getIcon( $ampere.view)\">\n\t\t    \t\t<i ng-show=\"$ampere.ui.getIcon( $ampere.view)\" ng-class=\"$ampere.ui.getIcon( $ampere.view)\"></i>\n\t\t    \t\t{{$ampere.ui.getCaption( ($ampere.view.name()!='main' && $ampere.view) || $ampere.view.state())}}\n\t\t    \t\t<a ng-show=\"$ampere.ui.getTransitions( {'ampere.ui.hotkey' : $ampere.ui.regexp( '.+')}).length\" ng-click=\"$ampere.ui.toggleHelp()\" title=\"Help\" class=\"icon-question-sign\"></a>\n\t\t    \t</h2>\n\t\t    \t<div class=\"ampere-help\">\n\t\t    \t\t<div class=\"hotkeys\">\n\t\t\t\t\t\t<!--  <span>Available hotkeys:</span>  -->\n\t\t\t    \t\t<ul class=\"hotkeys\">\n\t\t\t    \t\t\t<li ng-class=\"{disabled : !transition.enabled()}\" ng-repeat=\"transition in $ampere.ui.getTransitions( {'ampere.ui.hotkey':$ampere.ui.regexp( '.+')})\">\n\t\t\t\t\t\t    \t<kbd>{{$ampere.ui.getHotkey( transition)}}</kbd>\n\t\t\t\t\t\t    \t<i class=\" icon-arrow-right\"></i>\n\t\t\t\t\t\t    \t<a ng-ampere-transition=\"transition\"></a>\n\t\t\t\t\t\t    \t<div class=\"description\">{{$ampere.ui.getDescription( transition)}}</div> \n\t\t\t\t\t\t    </li> \n\t\t\t    \t\t</ul>\n\t\t\t    \t</div>\n\t\t    \t</div>\n\t\t    \t<div ng-bind-html-unsafe=\"$ampere.ui.getDescription( $ampere.view)\"></div>\n\t\t  \t</div>\n\t\t  \t<div ng-ampere-state=\"\" class=\"ampere-view name-{{$ampere.view.name()}}\"></div>\n\t\t  \t<div class=\"navbar navbar-fixed-bottom\">\n\t\t\t  \t<div class=\"navbar-inner\">\n\t\t\t    \t<ul class=\"nav\">\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'wizard-left'})\"\n\t\t\t    \t\t\tng-class=\"{disabled : !transition.enabled(), active : transition.active()}\" \n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a ng-ampere-transition=\"transition\"></a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<ul class=\"nav pull-right\">\n\t\t\t    \t\t<li\n\t\t\t    \t\t\tng-repeat=\"transition in $ampere.ui.getTransitions({ 'ampere.ui.type':'wizard-right'})\"\n\t\t\t    \t\t\tng-class=\"{disabled : !transition.enabled(), active : transition.active()}\"\n\t\t\t    \t\t>\n\t\t\t\t\t\t\t<a ng-ampere-transition=\"transition\"></a>\n\t\t\t\t\t\t</li>\n\t\t\t    \t</ul>\n\t\t\t  \t</div>\n\t\t\t</div>\t\t  \t\n\t\t</section>\n\t\t<footer ng-show=\"$ampere.ui.getAbout( $ampere.module)\">\n\t\t\t<hr>\n\t\t\t<div ng-bind-html-unsafe=\"$ampere.ui.getAbout( $ampere.module)\"></div>\n\t\t</footer>\t\n\t</div>\n\t<div class=\"overlay\"></div>\n\t<div class=\"container flash\">\n\t\t<div class=\"alert alert-info alert-block fade in\">\n\t\t\t<button type=\"button\" class=\"close\">×</button>\n\t\t\t<div class=\"message\"></div>\n\t\t\t<div class=\"progress progress-striped active\">\n\t\t\t\t<div class=\"bar\" style=\"width: 100%;\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>" + 
		'\n]]></script>'
	);
	 
	
	 
})();
